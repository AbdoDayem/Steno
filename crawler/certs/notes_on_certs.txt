NOTE: THIS IS ONLY IF YOU WANT TO GENERATE NEW CERTS, OUR GROUP WILL HAVE THE CERTS POSTED IN THE SERVER

In order to generate the certs that will be used by elasticsearch you must run this:

openssl genpkey -algorithm RSA -out ca-key.pem -pkeyopt rsa_keygen_bits:2048

openssl req -x509 -new -nodes -key ca-key.pem -sha256 -days 365 -out ca-cert.pem -subj "/C=US/ST=State/L=City/O=Organization/OU=OrgUnit/CN=your-ca-name"

openssl genpkey -algorithm RSA -out elasticsearch-key.pem -pkeyopt rsa_keygen_bits:2048

openssl req -new -key elasticsearch-key.pem -out elasticsearch.csr -subj "/C=US/ST=State/L=City/O=Organization/OU=OrgUnit/CN=your-elasticsearch-domain" -addext "subjectAltName=DNS:es-domain,DNS:another-es-domain"

NOTE FOR ABOVE: Connections will be denied based on the domain(s) set above.

openssl x509 -req -in elasticsearch.csr -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -out elasticsearch-cert.pem -days 365 -sha256

OR (for multiple domains): 

openssl x509 -req -in elasticsearch.csr -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -out elasticsearch-cert.pem -days 365 -sha256 -extfile <(printf "subjectAltName=DNS:es01,DNS:localhost")
